import{ac as w,A as g,ad as y,ae as b,af as v,v as x,ag as L,M as R}from"./three.core-C9hpR20a.js";import{G as S,A as P}from"./three.examples-B6IQwUeG.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const u of t.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function d(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function o(e){if(e.ep)return;e.ep=!0;const t=d(e);fetch(e.href,t)}})();let m,l,a,n,p,s,c=null,h=!1,r;A();function A(){const f=new S().setPath("/RAUG-AR-Cahet-Codron/assets/models/");m=document.createElement("div"),document.body.appendChild(m),a=new w,l=new g(70,window.innerWidth/window.innerHeight,.01,20);const i=new y(16777215,12303359,3);i.position.set(.5,1,.25),a.add(i),n=new b({antialias:!0,alpha:!0}),n.setPixelRatio(window.devicePixelRatio),n.setSize(window.innerWidth,window.innerHeight),n.setAnimationLoop(M),n.xr.enabled=!0,m.appendChild(n.domElement),document.body.appendChild(P.createButton(n,{requiredFeatures:["hit-test"]})),new v(.1,.1,.2,32).translate(0,.1,0);function d(){s.visible&&f.load("flask.glb",o=>{r=o.scene,s.matrix.decompose(r.position,r.quaternion,r.scale),r.scale.x=.2,r.scale.y=.2,r.scale.z=.2,a.add(r),r.traverse(function(e){e.isMesh&&(e.castShadow=!0)})})}p=n.xr.getController(0),p.addEventListener("select",d),a.add(p),s=new x(new L(.15,.2,32).rotateX(-Math.PI/2),new R),s.matrixAutoUpdate=!1,s.visible=!1,a.add(s),window.addEventListener("resize",C)}function C(){l.aspect=window.innerWidth/window.innerHeight,l.updateProjectionMatrix(),n.setSize(window.innerWidth,window.innerHeight)}function M(f,i){if(i){const d=n.xr.getReferenceSpace(),o=n.xr.getSession();if(h===!1&&(o.requestReferenceSpace("viewer").then(function(e){o.requestHitTestSource({space:e}).then(function(t){c=t})}),o.addEventListener("end",function(){h=!1,c=null}),h=!0),c){const e=i.getHitTestResults(c);if(e.length){const t=e[0];s.visible=!0,s.matrix.fromArray(t.getPose(d).transform.matrix)}else s.visible=!1}}n.render(a,l)}
//# sourceMappingURL=index-CH5SfXd8.js.map
