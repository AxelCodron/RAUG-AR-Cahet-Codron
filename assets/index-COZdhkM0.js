import{S as w,P as g,H as y,W as b,C as x,M as p,R as v,a as S,b as P}from"./three.core-DYguOduy.js";import{A as R}from"./three.examples-CkA1wH0C.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const f of t.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function a(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function o(e){if(e.ep)return;e.ep=!0;const t=a(e);fetch(e.href,t)}})();let u,l,s,n,m,i,d=null,h=!1;L();function L(){u=document.createElement("div"),document.body.appendChild(u),s=new w,l=new g(70,window.innerWidth/window.innerHeight,.01,20);const c=new y(16777215,12303359,3);c.position.set(.5,1,.25),s.add(c),n=new b({antialias:!0,alpha:!0}),n.setPixelRatio(window.devicePixelRatio),n.setSize(window.innerWidth,window.innerHeight),n.setAnimationLoop(H),n.xr.enabled=!0,u.appendChild(n.domElement),document.body.appendChild(R.createButton(n,{requiredFeatures:["hit-test"]}));const r=new x(.1,.1,.2,32).translate(0,.1,0);function a(){if(i.visible){const o=new P({color:16777215*Math.random()}),e=new p(r,o);i.matrix.decompose(e.position,e.quaternion,e.scale),e.scale.y=Math.random()*2+1,s.add(e)}}m=n.xr.getController(0),m.addEventListener("select",a),s.add(m),i=new p(new v(.15,.2,32).rotateX(-Math.PI/2),new S),i.matrixAutoUpdate=!1,i.visible=!1,s.add(i),window.addEventListener("resize",M)}function M(){l.aspect=window.innerWidth/window.innerHeight,l.updateProjectionMatrix(),n.setSize(window.innerWidth,window.innerHeight)}function H(c,r){if(r){const a=n.xr.getReferenceSpace(),o=n.xr.getSession();if(h===!1&&(o.requestReferenceSpace("viewer").then(function(e){o.requestHitTestSource({space:e}).then(function(t){d=t})}),o.addEventListener("end",function(){h=!1,d=null}),h=!0),d){const e=r.getHitTestResults(d);if(e.length){const t=e[0];i.visible=!0,i.matrix.fromArray(t.getPose(a).transform.matrix)}else i.visible=!1}}n.render(s,l)}
//# sourceMappingURL=index-COZdhkM0.js.map
