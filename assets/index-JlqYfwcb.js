import{ac as p,A as w,ad as g,ae as y,af as b,v,ag as L,M as S}from"./three.core-C9hpR20a.js";import{G as x,A as R}from"./three.examples-B6IQwUeG.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const f of t.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function a(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function r(e){if(e.ep)return;e.ep=!0;const t=a(e);fetch(e.href,t)}})();let u,l,s,n,m,o,d=null,h=!1;P();function P(){const c=new x().setPath("/RAUG-Cahet-Codron/assets/models/");u=document.createElement("div"),document.body.appendChild(u),s=new p,l=new w(70,window.innerWidth/window.innerHeight,.01,20);const i=new g(16777215,12303359,3);i.position.set(.5,1,.25),s.add(i),n=new y({antialias:!0,alpha:!0}),n.setPixelRatio(window.devicePixelRatio),n.setSize(window.innerWidth,window.innerHeight),n.setAnimationLoop(C),n.xr.enabled=!0,u.appendChild(n.domElement),document.body.appendChild(R.createButton(n,{requiredFeatures:["hit-test"]})),new b(.1,.1,.2,32).translate(0,.1,0);function a(){o.visible&&c.load("flask.glb",r=>{model=r.scene,s.add(model),model.traverse(function(e){e.isMesh&&(e.castShadow=!0)})})}m=n.xr.getController(0),m.addEventListener("select",a),s.add(m),o=new v(new L(.15,.2,32).rotateX(-Math.PI/2),new S),o.matrixAutoUpdate=!1,o.visible=!1,s.add(o),window.addEventListener("resize",A)}function A(){l.aspect=window.innerWidth/window.innerHeight,l.updateProjectionMatrix(),n.setSize(window.innerWidth,window.innerHeight)}function C(c,i){if(i){const a=n.xr.getReferenceSpace(),r=n.xr.getSession();if(h===!1&&(r.requestReferenceSpace("viewer").then(function(e){r.requestHitTestSource({space:e}).then(function(t){d=t})}),r.addEventListener("end",function(){h=!1,d=null}),h=!0),d){const e=i.getHitTestResults(d);if(e.length){const t=e[0];o.visible=!0,o.matrix.fromArray(t.getPose(a).transform.matrix)}else o.visible=!1}}n.render(s,l)}
//# sourceMappingURL=index-JlqYfwcb.js.map
