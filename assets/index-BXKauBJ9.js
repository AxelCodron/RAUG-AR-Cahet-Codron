import{ac as F,M as h,ad as G,A as B,ae as C,af as E,v as M,ag as O,ah as W,V as I}from"./three.core-BZUSPxCQ.js";import{G as N,A as X}from"./three.examples-D7lupf4I.js";(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function f(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerPolicy&&(i.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?i.credentials="include":t.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(t){if(t.ep)return;t.ep=!0;const i=f(t);fetch(t.href,i)}})();let b,u,c,a,y,l,p=null,H=!1,e,A,T,q=!1;const j=new F(.3,.1,.05),D=[new h({color:16711680}),new h({color:65280}),new h({color:255})],v=[],U=[{x:-.5,y:-1.2,z:-2},{x:0,y:-1.2,z:-2},{x:.5,y:-1.2,z:-2}];V();function V(){const m=new N().setPath("/RAUG-AR-Cahet-Codron/assets/models/");b=document.createElement("div"),document.body.appendChild(b),c=new G,u=new B(70,window.innerWidth/window.innerHeight,.01,20);const d=new C(16777215,12303359,3);d.position.set(.5,1,.25),c.add(d),a=new E({antialias:!0,alpha:!0}),a.setPixelRatio(window.devicePixelRatio),a.setSize(window.innerWidth,window.innerHeight),a.setAnimationLoop(K),a.xr.enabled=!0,b.appendChild(a.domElement),document.body.appendChild(X.createButton(a,{requiredFeatures:["hit-test"]}));const f=new W,r=new I;U.forEach((o,s)=>{const n=new M(j,D[s]);n.position.set(o.x,o.y,-2),u.add(n),v.push(n)}),c.add(u);function t(o){r.x=o.clientX/window.innerWidth*2-1,r.y=-(o.clientY/window.innerHeight)*2+1,f.setFromCamera(r,u);const s=f.intersectObjects(v);if(s.length>0){const n=s[0].object;n.material.color.getHex()===16711680?console.log("Red button pressed!"):n.material.color.getHex()===65280?console.log("Green button pressed!"):n.material.color.getHex()===255&&console.log("Blue button pressed!")}}window.addEventListener("pointerdown",t);function i(){if(l.visible)if(!A)m.load("flask.glb",o=>{e=o.scene,l.matrix.decompose(e.position,e.quaternion,e.scale),e.scale.x=.1,e.scale.y=.1,e.scale.z=.1,c.add(e),A=!0,e.traverse(function(s){s.isMesh&&(s.castShadow=!0)})});else if(!T)m.load("tube.glb",o=>{e=o.scene,l.matrix.decompose(e.position,e.quaternion,e.scale),e.scale.x=.1,e.scale.y=.1,e.scale.z=.1,c.add(e),T=!0,e.traverse(function(s){s.isMesh&&(s.castShadow=!0)})});else if(!q)m.load("glass-bottle.glb",o=>{e=o.scene,l.matrix.decompose(e.position,e.quaternion,e.scale),e.scale.x=.05,e.scale.y=.05,e.scale.z=.05,c.add(e),q=!0,e.traverse(function(s){s.isMesh&&(s.castShadow=!0)})});else{let P=function(){const g=performance.now(),L=g-R;if(L<s){if(g-S>=n){S=g;const x=w+z*Math.sin(L/1e3*n*2*Math.PI);o.scale.set(x,x,x)}requestAnimationFrame(P)}else o.scale.set(w,w,w)};const o=c.children[4],s=3e3,n=100,w=.1,z=.01,R=performance.now();let S=R;P()}}y=a.xr.getController(0),y.addEventListener("select",i),c.add(y),l=new M(new O(.15,.2,32).rotateX(-Math.PI/2),new h),l.matrixAutoUpdate=!1,l.visible=!1,c.add(l),window.addEventListener("resize",Y)}function Y(){u.aspect=window.innerWidth/window.innerHeight,u.updateProjectionMatrix(),a.setSize(window.innerWidth,window.innerHeight)}function K(m,d){if(d){const f=a.xr.getReferenceSpace(),r=a.xr.getSession();if(H===!1&&(r.requestReferenceSpace("viewer").then(function(t){r.requestHitTestSource({space:t}).then(function(i){p=i})}),r.addEventListener("end",function(){H=!1,p=null}),H=!0),p){const t=d.getHitTestResults(p);if(t.length){const i=t[0];l.visible=!0,l.matrix.fromArray(i.getPose(f).transform.matrix)}else l.visible=!1}}a.render(c,u)}
//# sourceMappingURL=index-BXKauBJ9.js.map
