import{ac as w,A as g,ad as y,ae as b,af as v,v as L,ag as R,M as S}from"./three.core-C9hpR20a.js";import{G as x,A as P}from"./three.examples-B6IQwUeG.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const f of t.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function a(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function r(e){if(e.ep)return;e.ep=!0;const t=a(e);fetch(e.href,t)}})();let u,l,o,n,h,s,d=null,m=!1,p;A();function A(){const c=new x().setPath("/RAUG-AR-Cahet-Codron/assets/models/");u=document.createElement("div"),document.body.appendChild(u),o=new w,l=new g(70,window.innerWidth/window.innerHeight,.01,20);const i=new y(16777215,12303359,3);i.position.set(.5,1,.25),o.add(i),n=new b({antialias:!0,alpha:!0}),n.setPixelRatio(window.devicePixelRatio),n.setSize(window.innerWidth,window.innerHeight),n.setAnimationLoop(M),n.xr.enabled=!0,u.appendChild(n.domElement),document.body.appendChild(P.createButton(n,{requiredFeatures:["hit-test"]})),new v(.1,.1,.2,32).translate(0,.1,0);function a(){s.visible&&c.load("flask.glb",r=>{p=r.scene,o.add(p),p.traverse(function(e){e.isMesh&&(e.castShadow=!0)})})}h=n.xr.getController(0),h.addEventListener("select",a),o.add(h),s=new L(new R(.15,.2,32).rotateX(-Math.PI/2),new S),s.matrixAutoUpdate=!1,s.visible=!1,o.add(s),window.addEventListener("resize",C)}function C(){l.aspect=window.innerWidth/window.innerHeight,l.updateProjectionMatrix(),n.setSize(window.innerWidth,window.innerHeight)}function M(c,i){if(i){const a=n.xr.getReferenceSpace(),r=n.xr.getSession();if(m===!1&&(r.requestReferenceSpace("viewer").then(function(e){r.requestHitTestSource({space:e}).then(function(t){d=t})}),r.addEventListener("end",function(){m=!1,d=null}),m=!0),d){const e=i.getHitTestResults(d);if(e.length){const t=e[0];s.visible=!0,s.matrix.fromArray(t.getPose(a).transform.matrix)}else s.visible=!1}}n.render(o,l)}
//# sourceMappingURL=index-Cbvq27JM.js.map
