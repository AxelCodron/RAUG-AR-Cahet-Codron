import{ac as P,A,ad as T,ae as q,af as C,v as F,ag as z,M as G}from"./three.core-C9hpR20a.js";import{G as H,A as E}from"./three.examples-B6IQwUeG.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function d(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(e){if(e.ep)return;e.ep=!0;const n=d(e);fetch(e.href,n)}})();let h,f,a,s,w,r,u=null,g=!1,t,S,L,R=!1;O();function O(){const c=new H().setPath("/RAUG-AR-Cahet-Codron/assets/models/");h=document.createElement("div"),document.body.appendChild(h),a=new P,f=new A(70,window.innerWidth/window.innerHeight,.01,20);const o=new T(16777215,12303359,3);o.position.set(.5,1,.25),a.add(o),s=new q({antialias:!0,alpha:!0}),s.setPixelRatio(window.devicePixelRatio),s.setSize(window.innerWidth,window.innerHeight),s.setAnimationLoop(B),s.xr.enabled=!0,h.appendChild(s.domElement),document.body.appendChild(E.createButton(s,{requiredFeatures:["hit-test"]})),new C(.1,.1,.2,32).translate(0,.1,0);function d(){if(r.visible)if(!S)c.load("flask.glb",i=>{t=i.scene,r.matrix.decompose(t.position,t.quaternion,t.scale),t.scale.x=.1,t.scale.y=.1,t.scale.z=.1,a.add(t),S=!0,t.traverse(function(e){e.isMesh&&(e.castShadow=!0)})});else if(!L)c.load("tube.glb",i=>{t=i.scene,r.matrix.decompose(t.position,t.quaternion,t.scale),t.scale.x=.1,t.scale.y=.1,t.scale.z=.1,a.add(t),L=!0,t.traverse(function(e){e.isMesh&&(e.castShadow=!0)})});else if(!R)c.load("glass-bottle.glb",i=>{t=i.scene,r.matrix.decompose(t.position,t.quaternion,t.scale),t.scale.x=.05,t.scale.y=.05,t.scale.z=.05,a.add(t),R=!0,t.traverse(function(e){e.isMesh&&(e.castShadow=!0)})});else{let x=function(){const m=performance.now(),v=m-y;if(v<e){if(m-b>=n){b=m;const p=l+M*Math.sin(v/1e3*n*2*Math.PI);i.scale.set(p,p,p)}requestAnimationFrame(x)}else i.scale.set(l,l,l)};const i=a.children[3],e=3e3,n=100,l=.1,M=.01,y=performance.now();let b=y;x()}}w=s.xr.getController(0),w.addEventListener("select",d),a.add(w),r=new F(new z(.15,.2,32).rotateX(-Math.PI/2),new G),r.matrixAutoUpdate=!1,r.visible=!1,a.add(r),window.addEventListener("resize",W)}function W(){f.aspect=window.innerWidth/window.innerHeight,f.updateProjectionMatrix(),s.setSize(window.innerWidth,window.innerHeight)}function B(c,o){if(o){const d=s.xr.getReferenceSpace(),i=s.xr.getSession();if(g===!1&&(i.requestReferenceSpace("viewer").then(function(e){i.requestHitTestSource({space:e}).then(function(n){u=n})}),i.addEventListener("end",function(){g=!1,u=null}),g=!0),u){const e=o.getHitTestResults(u);if(e.length){const n=e[0];r.visible=!0,r.matrix.fromArray(n.getPose(d).transform.matrix)}else r.visible=!1}}s.render(a,f)}
//# sourceMappingURL=index-D87g60pJ.js.map
